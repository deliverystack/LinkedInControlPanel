javascript:(function(){var pausedLoading=false,commentNotLoadingCount=0,previousReplyLoadingCount=0,allCommentsLoaded=false,defaultWidth=80;function getRandomInt(min,max){min=Math.ceil(min);max=Math.floor(max);return Math.floor(Math.random()* (max-min+1))+min;}function qAll(s,r){return (r||document).querySelectorAll(s);}function q(s,r){return (r||document).querySelector(s);}function hasClass(e,c){return e&&e.classList&&e.classList.contains(c);}function addClass(e,c){if(e)e.classList.add(c);}function removeClass(e,c){if(e&&e.classList) e.classList.remove(c);}function triggerClick(e){if(!e)return; if(typeof e.click==='function') e.click(); else e.dispatchEvent(new MouseEvent('click',{bubbles:true}));}function changeToMostRecent(){var buttonForSort=q(".comments-sort-order-toggle__dropdown button");if(buttonForSort&&hasClass(q(".cbOrderByMostRecent"),"checked"))triggerClick(buttonForSort);var t1=getRandomInt(500,1000);setTimeout(function(){if(hasClass(q(".cbOrderByMostRecent"),"checked")){var last=q(".comments-sort-order-toggle__content li:last-child");if(!last){var list=qAll(".comments-sort-order-toggle__content li");last=list[list.length-1];}if(last)triggerClick(last);}var t2=getRandomInt(2000,3000);setTimeout(function(){var buttonText=buttonForSort?buttonForSort.textContent||'':'';if(buttonText.indexOf('Most recent')!==-1){var t3=getRandomInt(200,400);setTimeout(function(){UIChanges();loadAllComments();loadPreviousReplies();},t3);}else alert('Most Recent is not Selected');},t2);},t1);}function openPopup(){if(q(".comments-comment-list__container")){var style=document.createElement("style");style.innerHTML=' .commentPopupLoaded { opacity: 0; overflow: hidden; height: 100vh; } .commentPopup { z-index: 999999999999999999; position: absolute; background: white; padding: 50px; top: 50%; left: 50%; transform: translate(-50%, -50%); } .commentPopup td { padding: 5px; border-bottom: 2px solid; } .myCustomCheckbox { border: 1px solid; padding: 1px 0 0 5px; font-size: 12px; color: black !important; text-decoration: none !important; width: 20px; height: 20px; display: block; cursor: pointer; } .myCustomCheckbox.checked:before { content:\"âœ“\"; } .startLoadingContainer{ padding-top: 20px; } .buttonCSS { cursor: pointer; text-decoration: none !important; padding: 10px; background: linear-gradient(45deg, #0a66c2, #004182); color: white; border-radius: 10px; } .buttonCSS:hover{ background: linear-gradient(45deg, #004182, #0a66c2)  !important; color: white !important; } .mainActionPanel { position: fixed; bottom: 0px; width: 100%; z-index: 9999999999; } .mainActionPanel .buttonCSS{ float: left; margin-right: 10px; } .float-right{ float:right !important; } * { word-break: normal !important; overflow-wrap: normal !important; word-wrap: normal !important; white-space: normal !important; } @media print{ .mainActionPanel { display:none !important; } }';document.head.appendChild(style);var ao=q(".application-outlet");if(ao)addClass(ao,"commentPopupLoaded");var html=' <div class=\"commentPopup\"> <table> <thead> <tr><th colspan=\"2\">Preferences</th></tr> <tr><td><a class=\"myCustomCheckbox checked cbHideSidebars\">&nbsp;</a></td><td>Hide Sidebars & Header</td></tr> <tr><td class=\"widthInputContainer\"></td><td>Page Width (<span class=\"widthInputValue\">'+defaultWidth+'</span>%)</td></tr> <tr><td><a class=\"myCustomCheckbox checked cbRemoveProfileImages\">&nbsp;</a></td><td>Remove Profile Images</td></tr> <tr><td><a class=\"myCustomCheckbox cbRemoveCommentImages\">&nbsp;</a></td><td>Remove Images from Comments</td></tr> <tr><td><a class=\"myCustomCheckbox checked cbLoadAdditionalComments\">&nbsp;</a></td><td>Load Prior and Additional Comments</td></tr> <tr><td><a class=\"myCustomCheckbox checked cbExpandMoreLinks\">&nbsp;</a></td><td>Expand More Links</td></tr> <tr><td><a class=\"myCustomCheckbox checked cbOrderByMostRecent\">&nbsp;</a></td><td>Order by Most Recent</td></tr> <tr><td><a class=\"myCustomCheckbox checked cbShowTranslation\">&nbsp;</a></td><td>Show Translation</td></tr> <tr><th colspan=\"2\" class=\"startLoadingContainer\"><a class=\"startLoading buttonCSS\">Start</a></th></tr> </thead> </table> </div> ';document.body.insertAdjacentHTML('afterbegin',html);var widthInput=document.createElement('input');widthInput.type='range';widthInput.min='10';widthInput.max='100';widthInput.value=defaultWidth;widthInput.step='10';widthInput.className='widthInput';var container=q('.widthInputContainer');if(container)container.appendChild(widthInput);}else alert('This is not a posts page.');}function UIChanges(){if(hasClass(q('.cbHideSidebars'),'checked')){qAll('.scaffold-layout__sidebar, .scaffold-layout__aside, #msg-overlay, #global-nav').forEach(function(e){if(e&&e.parentNode)e.parentNode.removeChild(e);});var c=q('.scaffold-layout__content--sidebar-main-aside');if(c){c.style.gridTemplateAreas='"main"';c.style.gridTemplateColumns='var(--scaffold-layout-main-width)';}}if(hasClass(q('.cbShowTranslation'),'checked')){var t=q('.feed-shared-see-translation-button');if(t&&(t.textContent||'').indexOf('Show translation')!==-1)triggerClick(t);}var w=q('.widthInput');if(w){var val=w.value;var inner=q('.scaffold-layout__inner');if(inner)inner.style.width=val+'%';qAll('.feed-shared-inline-show-more-text').forEach(function(e){e.style.maxWidth='100%';});}var panel=' <div class=\"mainActionPanel\"> <a id=\"pauseBtn\" class=\"buttonCSS\">Pause</a> <a id=\"playBtn\" style=\"display:none;\" class=\"buttonCSS\">Resume</a> <a id=\"printBtn\" style=\"display:none;\" class=\"buttonCSS\">Print</a> <a id=\"boldBtn\" style=\"display:none;\" class=\"buttonCSS formattingBtns\" data-type=\"bold\">Bold</a> <a id=\"italicBtn\" style=\"display:none;\" class=\"buttonCSS formattingBtns\" data-type=\"italic\">Italic</a> <a id=\"closeBtn\" class=\"buttonCSS\">Close</a> <a id=\"commentCounter\" class=\"buttonCSS float-right\"></a> </div> ';document.body.insertAdjacentHTML('afterbegin',panel);}function loadAllComments(){var btns=Array.prototype.slice.call(qAll('.comments-comment-list__container .artdeco-button--muted:not(.processedBtns)'));if(btns.length>0){btns.forEach(function(b){b.classList.add('processedBtns'); if((b.textContent||'').indexOf('Show translation')!==-1)triggerClick(b);});}var c=q('#commentCounter');if(c)c.innerHTML=(qAll('.comments-comment-item__main-content')||[]).length;qAll('.feed-shared-inline-show-more-text').forEach(function(e){e.style.maxWidth='100%';});if(hasClass(q('.cbRemoveProfileImages'),'checked'))qAll('.comments-comment-list__container .comments-comment-meta__actor img').forEach(function(i){if(i&&i.parentNode)i.parentNode.removeChild(i);});if(hasClass(q('.cbRemoveCommentImages'),'checked'))qAll('.comments-comment-list__container .comments-display-content__image').forEach(function(i){if(i&&i.parentNode)i.parentNode.removeChild(i);});if(hasClass(q('.cbExpandMoreLinks'),'checked'))qAll('.feed-shared-inline-show-more-text__see-more-less-toggle').forEach(function(b){triggerClick(b);});var loadMore=q('.comments-comment-list__load-more-container');var selector=q('.comments-comment-list__load-more-container button:first-child')|| (loadMore?loadMore.querySelector('button'):null);if(selector)triggerClick(selector);if(!loadMore)commentNotLoadingCount++;else commentNotLoadingCount=0; if(commentNotLoadingCount>300){alert('All comments are loaded.');allCommentsLoaded=true; if(!hasClass(q('.cbLoadAdditionalComments'),'checked'))completeAllLoadings();}requestAnimationFrame(function(){ if(!pausedLoading && commentNotLoadingCount<=300) loadAllComments(); });}function completeAllLoadings(){var p=q('#pauseBtn'),pl=q('#playBtn'),pr=q('#printBtn'); if(p)p.style.display='none'; if(pl)pl.style.display='none'; if(pr)pr.style.display='inline-block';}function loadPreviousReplies(){ if(hasClass(q('.cbLoadAdditionalComments'),'checked')){ var prev=q(".comments-replies-list__replies-button[aria-label^='Load previous replies']")||null; if(prev)triggerClick(prev); if(allCommentsLoaded){ if(!prev) previousReplyLoadingCount++; else previousReplyLoadingCount=0; if(previousReplyLoadingCount>300){ alert('All previous replies are loaded.'); completeAllLoadings(); } } requestAnimationFrame(function(){ if(!pausedLoading && previousReplyLoadingCount<=300) loadPreviousReplies(); }); } }function toUnicodeBold(t){return Array.from(t).map(function(ch){var cp=ch.codePointAt(0); if(cp>=0x41&&cp<=0x5A) return String.fromCodePoint(0x1D400+(cp-0x41)); if(cp>=0x61&&cp<=0x7A) return String.fromCodePoint(0x1D41A+(cp-0x61)); if(cp>=0x30&&cp<=0x39) return String.fromCodePoint(0x1D7CE+(cp-0x30)); return ch; }).join('');}function toUnicodeItalic(t){var m={a:'ð˜¢',b:'ð˜£',c:'ð˜¤',d:'ð˜¥',e:'ð˜¦',f:'ð˜§',g:'ð˜¨',h:'ð˜©',i:'ð˜ª',j:'ð˜«',k:'ð˜¬',l:'ð˜­',m:'ð˜®',n:'ð˜¯',o:'ð˜°',p:'ð˜±',q:'ð˜²',r:'ð˜³',s:'ð˜´',t:'ð˜µ',u:'ð˜¶',v:'ð˜·',w:'ð˜¸',x:'ð˜¹',y:'ð˜º',z:'ð˜»',A:'ð˜ˆ',B:'ð˜‰',C:'ð˜Š',D:'ð˜‹',E:'ð˜Œ',F:'ð˜',G:'ð˜Ž',H:'ð˜',I:'ð˜',J:'ð˜‘',K:'ð˜’',L:'ð˜“',M:'ð˜”',N:'ð˜•',O:'ð˜–',P:'ð˜—',Q:'ð˜˜',R:'ð˜™',S:'ð˜š',T:'ð˜›',U:'ð˜œ',V:'ð˜',W:'ð˜ž',X:'ð˜Ÿ',Y:'ð˜ ',Z:'ð˜¡'};return t.split('').map(function(ch){return m[ch]||ch;}).join('');}function replaceSelectionWithAction(a){var sel=window.getSelection(); if(!sel.rangeCount) return; var range=sel.getRangeAt(0); var txt=sel.toString(); if(!txt) return; var rep=txt; if(a==='bold') rep=toUnicodeBold(txt); else if(a==='italic') rep=toUnicodeItalic(txt); range.deleteContents(); range.insertNode(document.createTextNode(rep)); sel.removeAllRanges(); showHideFormatingButtons(); }function showHideFormatingButtons(){var sel=window.getSelection();var s=sel.toString(); var btns=Array.prototype.slice.call(qAll('.formattingBtns')); if(s.length>0){var anchor=sel.anchorNode; var el=anchor&&anchor.nodeType===3?anchor.parentElement:anchor; if(el&&el.closest&&el.closest('.ql-editor')) btns.forEach(function(b){b.style.display='';}); else btns.forEach(function(b){b.style.display='none';}); } else btns.forEach(function(b){b.style.display='none';});}document.addEventListener('click',function(e){var t=e.target; if(t.matches&&t.matches('#pauseBtn')){pausedLoading=true;t.style.display='none';var pl=q('#playBtn'); if(pl)pl.style.display=''; var pr=q('#printBtn'); if(pr)pr.style.display='';} else if(t.matches&&t.matches('#playBtn')){pausedLoading=false;t.style.display='none'; var p=q('#pauseBtn'); if(p)p.style.display=''; var pr2=q('#printBtn'); if(pr2)pr2.style.display='none'; loadAllComments(); loadPreviousReplies();} else if(t.matches&&t.matches('#printBtn')){window.print();} else if(t.closest&&t.closest('.myCustomCheckbox')){var cb=t.closest('.myCustomCheckbox'); cb.classList.toggle('checked');} else if(t.matches&&t.matches('#closeBtn')){location.reload();} else if(t.closest&&t.closest('.startLoading')){changeToMostRecent(); var ao=q('.application-outlet'); if(ao) removeClass(ao,'commentPopupLoaded'); var pop=q('.commentPopup'); if(pop) pop.style.display='none';} else if((t.matches&&t.matches('.formattingBtns'))||(t.closest&&t.closest('.formattingBtns'))){e.preventDefault&&e.preventDefault(); var el=(t.matches&&t.matches('.formattingBtns'))?t:t.closest('.formattingBtns'); var action=el.getAttribute('data-type'); replaceSelectionWithAction(action);} });document.addEventListener('change',function(e){var t=e.target; if(t&&t.matches&&t.matches('.widthInput')){var v=t.value; var span=q('.widthInputValue'); if(span) span.innerHTML=v;}});document.addEventListener('mouseup',showHideFormatingButtons);document.addEventListener('keyup',showHideFormatingButtons);document.addEventListener('mousedown',function(e){ if(e.target&&e.target.matches&&e.target.matches('.formattingBtns')) e.preventDefault(); });openPopup();})();